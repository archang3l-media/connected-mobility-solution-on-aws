<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="776px" preserveAspectRatio="none" style="width:754px;height:776px;background:#FFFFFF;" version="1.1" viewBox="0 0 754 776" width="754px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="764.6543" style="stroke:#232F3E;stroke-width:0.5;" width="286" x="52.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="65" x="163" y="18.5684">CMS Auth</text><rect fill="#DDDDDD" height="764.6543" style="stroke:#232F3E;stroke-width:0.5;" width="128" x="340.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="359.5" y="18.5684">OAuth2.0 IdP</text><rect fill="#DDDDDD" height="764.6543" style="stroke:#232F3E;stroke-width:0.5;" width="278" x="470.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="75" x="572" y="18.5684">Auth Setup</text><rect fill="#D76511" height="181.7969" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="190.5" y="430.8809"/><rect fill="#232F3E" height="167.9297" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="399.5" y="181.5527"/><rect fill="#232F3E" height="69.2656" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="399.5" y="515.2793"/><rect fill="#D22029" height="14" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="604.5" y="473.1465"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="137.2871" y2="655.6777"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="195.5" x2="195.5" y1="137.2871" y2="655.6777"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="404.5" x2="404.5" y1="137.2871" y2="655.6777"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="609.5" x2="609.5" y1="137.2871" y2="655.6777"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="134.334">User</text><ellipse cx="23.5" cy="69.2988" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,77.2988 L23.5,104.2988 M10.5,85.2988 L36.5,85.2988 M23.5,104.2988 L10.5,119.2988 M23.5,104.2988 L36.5,119.2988 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="668.2129">User</text><ellipse cx="23.5" cy="679.666" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M23.5,687.666 L23.5,714.666 M10.5,695.666 L36.5,695.666 M23.5,714.666 L10.5,729.666 M23.5,714.666 L36.5,729.666 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="278" x="56.5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="132" x="129.5" y="45.8457">«Lambda Function»</text><image height="64" width="64" x="163.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAJWklEQVR42uXae1BU1x0H8JOY+H4TiGKapI4zlaatdpypzrRxJp1pNNFxNNa8ao2mvoUYaVV8BAWf4ANUHhIFTNVoaTVWo8UYawIpFURUfMQFBBbYhd1l2Tf7YNlv7zmHhzuN3rvc3fWP3ZnvDMMsj/3ce8/5/c45pGH1YLCsGQzV2kEs6riOrBuExnUD0bh+IJo28Gg20gyA5pMB0NLED4Auvj90m/qjeXNHEvpDn9AP+sR+aKHZ0g+GrTR9YdjWF0aa7X1h2t4Hph19YKbZKSSpDyxJvWFJ7g0rza7esNHsfhatezqy91nYaVKegYMm9Rk499H0gnN/L7hoDvRCG03a03DTpAvJeBrtNJlPwUNz8Ckgi4DUdwKEKAKp/8tghDICqfvzEIQyAgMIZQSijOUAoYrAAEIZgShXcYBQRSC1q4YilBFI7cdDIRehKSESxryFMP1jCc8pmsUsZprTNItg/mIRLJ05swhWIebjM54oAqlZKQDIRDCdXw85L1P25CeGwADkIpgvJrIPYvh8HvSH3kDLYR5DNs1UGHK6Y8yZAmPuFJiOTBGu/ix43A4473/5xB4HUv0RB5CD0AmgSYryeUywX88RftIDY+aEJ4IgAAyDXATzxS0cYGeUzwOjYf/Phc/vhqP85BMZGEl1DAWQh+AF0IPZwXE7D2hvEzBeCToCeUABZCKYOgCatkf1aIo0ZPyKPQb20sNBnyLJg+hhkItgyu8G6Gmd4FRcgKfNjpbdo4OKQKqih0MuguniVgbQ2AHQEwTjod+y39H6n9SgFkukasVwyEXoAtgWJatidNUUwOOwQJ80KmgIpHK5ACATwZTPAZy1xXBUFcLxgKaAxcnyLbT7JokiGD+bwX6P7crWoJXNDEAugubA68IHL+AfvjMPIXjaHLDfOy/pTmhTlcFj06N5W3hQEEjlMg7gjzvhUXWCrVgodjweaFMniSKYTrzP7gJrflxQGihSsSwMgUbQJP+CzfOtN/8uPibED4Jbp0C7SYXmxGEBRyAVS8MQDITWG7TYcUO7a5woAu0i6ct8NibgrTRRUIAgIGj2TmKPga3kiPjssGko3AYl3PpqaDcPDigCUSwJQ7AQ7He/FMp+p1AwjRVFMJ+L5a1y3vyALqqQ+4sFgCAhaPe/xge4wnTROkGbEI52iwZtTbcFgIEBQxAAnkMgENRJE2FX/BuqxCgvBEfFFXicNjQm/lgUwfJVPAMzHpsTsOU1cn8RBfA/gq38LPvnLUXZXneCLms6H+Au7xKtGDVbIuGxG+GquxqwNUbyPQXwM4Jqp9DdedrZqE+LIFXiWC8Ep7IE7a1GqONfEEWwfrOLrzZlTw0IAvl+4XPwN4L12kn24ZuPL+FX+9sMrzFBl/sOH+AubBbtHbTbX4bHZYOz6nJAVpvJvYXh8CdCfeI44eK3wXbjNHsc7Ar6zLeiIX5MN8LqIXCp7wiDnBaq9c+LItiKMhiYPnOy3xHIvT+Fw58I5u942atKfpU9Dk1p0/jVvpziNTvojy3gA9yZ1aL7DtqksWz6dNz9p9/3HchdCuAnBOUG4R91OWC7c9FrTHA8KEK70ObWb3y5G2H1cLTpqoSCpwGquDBRhNbSo2xcaU6d4FcEcvfDcPgLwXg5jV1VdcoUrzFBk/kWv9oXd3rVCfq8GPb9lrwVopsvuj2/ZAD2suN+3YEidxcIAH5AqFk7RrjKVrRWFP7gwOhQlgojvwH1617oQqhfEw63UYU2baXw9VBRBHv5acDtgm73T/2GQO4siIA/EFouJPOrnzbrB2cHzafv8unsfKJXxWg4s5YPcEfni+5A6Q78hvcT/83y214kuTM/AnIRHsS+CLe1BY7askdPkR8Pg7OhHG6LDsq1kV0IdXEjhNlAB5eqnM0OYggOxSVhnGmFZvtovyCQ2xRAJkLz6c386mfNfewUqc2dz5/5Mxu8ymZ6V9CX7vDbottwzVlTeT/xzV6/7EqT2x9EQA5CZUwk3CYNnKp7qFwR9vg6YeVwuJoUwvubUBsb1oVQv/5HaLeb4Ki5Kmkv0llTBI/DDE3CKNkIpJwCyEDQnFjDV4Rzl0iqE+xVfEqsjY3w6h1MX+/hu0sZ00QR9LmzeYX5VaLs8wmkfN7z6CmCYtkIuPR1cGlrULE8QrROUKe8wafDr1P/r4Fq+GQMqxhpByllQ9alvoV2qw6N8RGyEMitPwoAPURoPBLNd4SOrZJUJ9ACiRZKyo0/+cEu0lyQye+mlNdEEVqOf8ArzHNrZJ1UYQA9QlgcAWdjJdoMaiiWjxStE+p2TGZTmKkw+5FdZEPCK6zktZWfE19tjhvCKklaWzi79h+EVBfAcHSOZARyay4H8BWh4eCH/Jn920ZJdYKl9BRrkpSbxj+2lbZc/Sur+NTJE0UR9EfmPLT5wsM2VkpyJN8J5CYF6AGCXUnndD0U0S+K1gm1myaw9thSkifaSjds4++1lp70/bjOusEcoDhH8uNAbv5hBHxFUKa+x/6Q9osdkuoE03efsdtfufXX0tYTyk6xfQTV1nG+ITwMIHFMIDcogI8Itspi4dkzQxEzRrROqI77GTxtTlhv/UvyoooqmZe85qIc347rxHUDSB0YyY33R8AXhJqdM3nVdn6fpDqh5VI6e39d8hSfVpZsd/LZclr9prHSER4GkLgrTcreEwB8QLDcvoJ2Yb5WrIwSrRMqV/EO0aYo9HllSZ3yOz7NXTkgfQdq7RBvAAkIAsBISEWo2vw679wuHZJUJzSf4x1ifersHi2v2SsKGGDdhtHSENZ0A0g9n0DK3qUA0hBMpeeF29KF+7HjResERfRLrEO0197o8fJaY/os3kLnJ0nbfOkAsF7NlXxIg1ynABIQFHGvsvnZer8I1TtmoloYC+h4UJM0E7WdSe7IrpnQ5/PVIVXmfFlrjA7ldbTbWtCYNgNNadPRlD4dmvRp3cng0Wa+Ce3BN7sApJ5UIdffGQkpCJqz+3w+AutUK4SKMVzWQmvTobk+/11LYabkA96klAJIQLj30XjUZcWw1H8q5FB3GmgOx0B1OJonm6dq/US/rDZrsudBe2wZdMd5mmk+p1mK5hM8+s6cXAp1whjJp9xJ6duRkIrQ07I5EJsv/jjlThHINQoQwgjk2pxIhDICufZ7ASCEEUgJBQhhBFIyexRCGYEUU4AQRiDFb41CKCOQqxQghBH+B+5tVLDER2SGAAAAAElFTkSuQmCC" y="48.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="63.5" y="126.334">Authorization Code Exchange Lambda</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="278" x="56.5" y="654.6777"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="132" x="129.5" y="675.2129">«Lambda Function»</text><image height="64" width="64" x="163.5" xlink:href="data:image/png;base64,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" y="678.166"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="63.5" y="755.7012">Authorization Code Exchange Lambda</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="120" x="344.5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="351.5" y="45.8457">«OAuth2.0 API»</text><image height="64" width="64" x="372.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFmUlEQVR42u1aaYgcRRTeXW+8wXgRk52e3qwyM9U9mR/rzlTVthqESARFV/GHohFURDQoKCLEH8YjQgTFKOomQcQzBkS8QNQ/ioiKSLzwRjF4YJLVmKxZiL7XqZ6u6emjeqa72Q31oFi2p6q63lfv+F5VDwxo0aJFixYtWrRo0aJFi5ZspLzUMU3CLjZsdk/ZYpuwmRbfYBB6J/y9ZHGDnXLAKb2k4ZxgWGx12aJbQeH/kpph8U+g/3ULx8ePmNeKNxqNQ0Dpu0Cpv1UUD2l/lG125bw1dVDg44BCAAR/oUzoFUaN1xbV6PHY12gsO3ZkKT/DsOhV0OdZaDOBcW+ZdbZg/ihPnCrs/K+SAr+Dz68yzeWHqYxHZU2L3isDAS7xvWm1KnNe+WHbGUaF28oT9uZwxTm5l7nAIpaAC3wkAbmtVG8unrvKDzuHd5o9fd5xnIP7mROtxnUbH4TPAOTj5qjp8zXSQt8ZmJw8KIt5EUTIDC+357b5k3NO+VHCS7C4PZ7Pl6rnnJTl/JWKcxTM+7WYfx+4B4XHg/B3BbjJEwi4aI/is8IBgJc+7O8QvSYXC7N5E5UXseWLQHzo4hJArOqFKE/IuUfCS6fFy3/MyvRDQYC4EqH0Tmg7As92mPWJ8dwBMAk9X9r9O3KNMzXaCCj5SqnKSDsQ15zTAaQt0u+/mWNjx+Rs/myd98IRu2nnH2zZS/gu02aPwL9DEX0el0BYm++CLPa6ICu7ohaUsQyWq/w0hZS8TQAw3W86TghO7WD0neqYEplgvRKkFJa5WkqdzXz83yUq7AcvMisMGRJlsFvsyP6bOQB1ukwiZVsyfdfoaOto2Pm73YrN97Wfk0wX0uVUsOJLuzDTppPtdEfYRZFWBlwkmC2gxvgS1rCyL5cAxnc2TPZLd+6lU7F+a/HHosreNCCoAiD4yVRIdYntG3TD9GZF6GUweK9kWlj1rU1SwCB8fVLtrwpCGgD2s8jKobhppsU2SmwV26xI20OKQYVSGPSvPwF/ECmqQpZ4SHrpX4GToefSgpAWgA7XrbdOxSO4DvBVagsXRYt9JQ28QTESP9BxIGKzljj0cJ+5p0Y2eyYNCP0A4BOq1vIO5phE4EzCr/YDCduoSFjulw40do3UOBcW0QbANT+gzmlAyAIAd3NqvAZzbPcKrFgSBx3eEx1nVCq9/eeB7A0x5p+yNXGWNFcnACidIMzgDuUNQJDGwyY9FVeKzgp/eS0NRwBreRHzcQDMbgA8EIAjGDY/L28XCGS1D8V8e0Nj2gihY1kWO5EA5JAGFZnsrd58pTq1un0FdkTK9SsPNADk+SBDXRiW/lZITOryIgHA7BM8A4wFANzIO25PyW2EhbMLQgJF60wp999SFABunUHYq1hsySBEAgDKQ1B7Gvp/irdR6jGA3ihZOO3qgJO1j6Jg8UUBIBMoCKYf4AVKJACe8r4pv50iE3jj9kXeTUrsbRqPwAqxgDpb0Mka+ftYhHUB0KU88IiwYBYieP8oFXSfx6DEbpfM5LaiYkCZNE90D0B95d4VV2geKJf2qryrl0Vv9i9x+JrIjsINdorOuzEuFJUF8OAkQMO3y1dmvSovzhd3ezQ9MW6A6V3fcXNLnGpRaRCLGOleILyaTKV8oBaAQKhKGmTODhSXX5v2GLxXHmASZyG8/9s+lB+ETXS8Q1U/wPINyotHjm/YbHNgAT+JsnZTXMPLzigAxMly1Lgp/IIEKbXRoIvCzB6b2ye08fV4tQaZ5M/AuvfAbzf1VknZbFXESUtk805gwgAQIMaOh526z40J7g003YpAeDuP3xykWQum1b7PCPE+0N25cLPMDYAIMpMEwKz49GZdPrdFEAdwZ+Ka94EE5nfvmezfSePjKC5WcVHj0G0GtGjRokWLFi1atGjRokWLmvwPIIL5dNkzX0cAAAAASUVORK5CYII=" y="48.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="358.5" y="126.334">OAuth2.0 API</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="120" x="344.5" y="654.6777"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="106" x="351.5" y="675.2129">«OAuth2.0 API»</text><image height="64" width="64" x="372.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFmUlEQVR42u1aaYgcRRTeXW+8wXgRk52e3qwyM9U9mR/rzlTVthqESARFV/GHohFURDQoKCLEH8YjQgTFKOomQcQzBkS8QNQ/ioiKSLzwRjF4YJLVmKxZiL7XqZ6u6emjeqa72Q31oFi2p6q63lfv+F5VDwxo0aJFixYtWrRo0aJFi5ZspLzUMU3CLjZsdk/ZYpuwmRbfYBB6J/y9ZHGDnXLAKb2k4ZxgWGx12aJbQeH/kpph8U+g/3ULx8ePmNeKNxqNQ0Dpu0Cpv1UUD2l/lG125bw1dVDg44BCAAR/oUzoFUaN1xbV6PHY12gsO3ZkKT/DsOhV0OdZaDOBcW+ZdbZg/ihPnCrs/K+SAr+Dz68yzeWHqYxHZU2L3isDAS7xvWm1KnNe+WHbGUaF28oT9uZwxTm5l7nAIpaAC3wkAbmtVG8unrvKDzuHd5o9fd5xnIP7mROtxnUbH4TPAOTj5qjp8zXSQt8ZmJw8KIt5EUTIDC+357b5k3NO+VHCS7C4PZ7Pl6rnnJTl/JWKcxTM+7WYfx+4B4XHg/B3BbjJEwi4aI/is8IBgJc+7O8QvSYXC7N5E5UXseWLQHzo4hJArOqFKE/IuUfCS6fFy3/MyvRDQYC4EqH0Tmg7As92mPWJ8dwBMAk9X9r9O3KNMzXaCCj5SqnKSDsQ15zTAaQt0u+/mWNjx+Rs/myd98IRu2nnH2zZS/gu02aPwL9DEX0el0BYm++CLPa6ICu7ohaUsQyWq/w0hZS8TQAw3W86TghO7WD0neqYEplgvRKkFJa5WkqdzXz83yUq7AcvMisMGRJlsFvsyP6bOQB1ukwiZVsyfdfoaOto2Pm73YrN97Wfk0wX0uVUsOJLuzDTppPtdEfYRZFWBlwkmC2gxvgS1rCyL5cAxnc2TPZLd+6lU7F+a/HHosreNCCoAiD4yVRIdYntG3TD9GZF6GUweK9kWlj1rU1SwCB8fVLtrwpCGgD2s8jKobhppsU2SmwV26xI20OKQYVSGPSvPwF/ECmqQpZ4SHrpX4GToefSgpAWgA7XrbdOxSO4DvBVagsXRYt9JQ28QTESP9BxIGKzljj0cJ+5p0Y2eyYNCP0A4BOq1vIO5phE4EzCr/YDCduoSFjulw40do3UOBcW0QbANT+gzmlAyAIAd3NqvAZzbPcKrFgSBx3eEx1nVCq9/eeB7A0x5p+yNXGWNFcnACidIMzgDuUNQJDGwyY9FVeKzgp/eS0NRwBreRHzcQDMbgA8EIAjGDY/L28XCGS1D8V8e0Nj2gihY1kWO5EA5JAGFZnsrd58pTq1un0FdkTK9SsPNADk+SBDXRiW/lZITOryIgHA7BM8A4wFANzIO25PyW2EhbMLQgJF60wp999SFABunUHYq1hsySBEAgDKQ1B7Gvp/irdR6jGA3ihZOO3qgJO1j6Jg8UUBIBMoCKYf4AVKJACe8r4pv50iE3jj9kXeTUrsbRqPwAqxgDpb0Mka+ftYhHUB0KU88IiwYBYieP8oFXSfx6DEbpfM5LaiYkCZNE90D0B95d4VV2geKJf2qryrl0Vv9i9x+JrIjsINdorOuzEuFJUF8OAkQMO3y1dmvSovzhd3ezQ9MW6A6V3fcXNLnGpRaRCLGOleILyaTKV8oBaAQKhKGmTODhSXX5v2GLxXHmASZyG8/9s+lB+ETXS8Q1U/wPINyotHjm/YbHNgAT+JsnZTXMPLzigAxMly1Lgp/IIEKbXRoIvCzB6b2ye08fV4tQaZ5M/AuvfAbzf1VknZbFXESUtk805gwgAQIMaOh526z40J7g003YpAeDuP3xykWQum1b7PCPE+0N25cLPMDYAIMpMEwKz49GZdPrdFEAdwZ+Ka94EE5nfvmezfSePjKC5WcVHj0G0GtGjRokWLFi1atGjRokWLmvwPIIL5dNkzX0cAAAAASUVORK5CYII=" y="678.166"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="358.5" y="755.7012">OAuth2.0 API</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="270" x="474.5" y="25.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="546" y="45.8457">«Secrets Manager»</text><image height="64" width="64" x="577.5" xlink:href="data:image/png;base64,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" y="48.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="481.5" y="126.334">Authorization Code Exchange Config</text><rect fill="#FFFFFF" height="110.9766" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="270" x="474.5" y="654.6777"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="546" y="675.2129">«Secrets Manager»</text><image height="64" width="64" x="577.5" xlink:href="data:image/png;base64,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" y="678.166"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="481.5" y="755.7012">Authorization Code Exchange Config</text><rect fill="#D76511" height="181.7969" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="190.5" y="430.8809"/><rect fill="#232F3E" height="167.9297" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="399.5" y="181.5527"/><rect fill="#232F3E" height="69.2656" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="399.5" y="515.2793"/><rect fill="#D22029" height="14" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="604.5" y="473.1465"/><polygon fill="#666666" points="387.5,177.5527,397.5,181.5527,387.5,185.5527,391.5,181.5527" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="23.5" x2="393.5" y1="181.5527" y2="181.5527"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143" x="138" y="162.8887">GET /authorize endpoint</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="154" y="177.0215">with PKCE (optional)</text><polygon fill="#666666" points="34.5,233.9512,24.5,237.9512,34.5,241.9512,30.5,237.9512" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="398.5" y1="237.9512" y2="237.9512"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="161" y="205.1543">redirect to /login</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="170.5" y="219.2871">endpoint with</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142" x="140.5" y="233.4199">appropriate URL queries</text><polygon fill="#666666" points="387.5,276.2168,397.5,280.2168,387.5,284.2168,391.5,280.2168" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="23.5" x2="393.5" y1="280.2168" y2="280.2168"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="151" y="261.5527">Login with valid user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="63" x="180" y="275.6855">credentials</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="451.5" y1="308.3496" y2="308.3496"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="451.5" x2="451.5" y1="308.3496" y2="321.3496"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="410.5" x2="451.5" y1="321.3496" y2="321.3496"/><polygon fill="#666666" points="420.5,317.3496,410.5,321.3496,420.5,325.3496,416.5,321.3496" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="416.5" y="303.8184">validate user credentials</text><polygon fill="#666666" points="34.5,345.4824,24.5,349.4824,34.5,353.4824,30.5,349.4824" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="403.5" y1="349.4824" y2="349.4824"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="160.5" y="344.9512">authorization code</text><polygon fill="#666666" points="178.5,426.8809,188.5,430.8809,178.5,434.8809,182.5,430.8809" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="23.5" x2="184.5" y1="430.8809" y2="430.8809"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113" x="48.5" y="398.084">authorization_code,</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="33" y="412.2168">redirect_uri, code_verifier</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="80" y="426.3496">(optional)</text><polygon fill="#666666" points="592.5,469.1465,602.5,473.1465,592.5,477.1465,596.5,473.1465" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="200.5" x2="598.5" y1="473.1465" y2="473.1465"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="131" x="335" y="454.4824">Get authorization code</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="356" y="468.6152">exchange config</text><polygon fill="#666666" points="211.5,483.1465,201.5,487.1465,211.5,491.1465,207.5,487.1465" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="205.5" x2="608.5" y1="487.1465" y2="487.1465"/><polygon fill="#666666" points="387.5,511.2793,397.5,515.2793,387.5,519.2793,391.5,515.2793" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="200.5" x2="393.5" y1="515.2793" y2="515.2793"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="236.5" y="510.748">POST /token endpoint</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="409.5" x2="451.5" y1="543.4121" y2="543.4121"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="451.5" x2="451.5" y1="543.4121" y2="556.4121"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="410.5" x2="451.5" y1="556.4121" y2="556.4121"/><polygon fill="#666666" points="420.5,552.4121,410.5,556.4121,420.5,560.4121,416.5,556.4121" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="95" x="416.5" y="538.8809">Validate request</text><polygon fill="#666666" points="211.5,580.5449,201.5,584.5449,211.5,588.5449,207.5,584.5449" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="205.5" x2="403.5" y1="584.5449" y2="584.5449"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="269" y="580.0137">user tokens</text><polygon fill="#666666" points="34.5,608.6777,24.5,612.6777,34.5,616.6777,30.5,612.6777" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="194.5" y1="612.6777" y2="612.6777"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="67" x="76" y="608.1465">user tokens</text><!--MD5=[f4dadaa97f79837f1d469b9044b4b7b2]
@startuml cms-authorization-code-exchange-sequence-diagram
'Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
'SPDX-License-Identifier: MIT (For details, see https://github.com/awslabs/aws-icons-for-plantuml/blob/master/LICENSE)

!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v14.0/dist
!include AWSPuml/AWSCommon.puml
!include AWSPuml/SecurityIdentityCompliance/SecretsManager.puml
!include AWSPuml/Compute/Lambda.puml
!include AWSPuml/General/Internet.puml

'Comment out to use default PlantUML sequence formatting
skinparam participant {
    BackgroundColor AWS_BG_COLOR
    BorderColor AWS_BORDER_COLOR
}
skinparam sequence {
    ArrowThickness 2
    LifeLineBorderColor AWS_COLOR
    LifeLineBackgroundColor AWS_BORDER_COLOR
    BoxBorderColor AWS_COLOR
}

!$LAMBDA_COLOR = "#D76511"
!$API_COLOR = "#232F3E"
!$SECRETS_COLOR = "#D22029"

actor User as user

box CMS Auth
participant "$LambdaIMG()\nAuthorization Code Exchange Lambda" as authorization_code_exchange_lambda << Lambda Function >>
endbox

box OAuth2.0 IdP
participant "$InternetIMG()\nOAuth2.0 API" as cognito_api << OAuth2.0 API >>
endbox

box Auth Setup
participant "$SecretsManagerIMG()\nAuthorization Code Exchange Config" as authorization_code_config << Secrets Manager >>
endbox

'Use shortcut syntax for activation with colored lifelines and return keyword
user -> cognito_api++ $API_COLOR: GET /authorize endpoint with PKCE (optional)
user <- - cognito_api: redirect to /login endpoint with appropriate URL queries
user -> cognito_api: Login with valid user credentials
cognito_api - -> cognito_api: validate user credentials
return authorization code
|||
user -> authorization_code_exchange_lambda++ $LAMBDA_COLOR: authorization_code, redirect_uri, code_verifier (optional)
authorization_code_exchange_lambda -> authorization_code_config++ $SECRETS_COLOR: Get authorization code exchange config
return
cognito_api <- authorization_code_exchange_lambda++ $API_COLOR: POST /token endpoint
cognito_api - -> cognito_api: Validate request
return user tokens
return user tokens
|||

@enduml

@startuml cms-authorization-code-exchange-sequence-diagram






skinparam defaultTextAlignment center

skinparam PackageTitleAlignment Left

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}














sprite $SecretsManager [64x64/16z] {
xLPL0YCx39CTnv3xt_UztQ9AdYpzLSMPYMGCh7-7Bxw8MBkOOxr2TPi_y2oGuI8U-Ji2vGCt32zwiY6G1c1C3v7mEG3OrGl3eK0PC8BZZm5OdUdZC0I5Ngtb
xOz2YTuAfAyty2HwA_01JEy5Ulg-G9Yg1NVO0KhpBf0AY02Qr59Q7TyG9mzihPK2gtCnxm8EQ-XviNpoMQ-qW79qsPbFqhBczbiKvzSHjpJ2sO7wn9y8vkVD
9lC3ytFbrZ5_VMu2Z1t-m0TwacSL1eyB71P5KUPxVb3uYYVess4CzdYf-0D45qVp1g42rNotRl9rga8qDlckwcjLXBHyzf_v0H74IW2j_vmOvXkgOAiUuWz4
Lp_cEypWjskgNzC_7By2Il4t_KDFs9x8Ma_nOspC7rNwfVZR-LCOp_nClkxdBpzJYM28aer-_UhxVo0FriyJqf-Gg-OfUZjQlpzXOj3w_Hdc-pjJlqdr0Zsz
5-Zf6UiD8acWjQuOzNn-g04zzC0EpYyaqBTF3W338qKo_7IH6pcWujTKtA2pTfF8o9WYCtAt2hldrp5_vVpyx_355_y3
}


skinparam rectangle<<SecretsManager>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $Lambda [64x64/16z] {
xPO73iCm30CfEPRy_mzt3zQ0q38kTWwZomIlYyZu9mS7sJzHyni-2JdVuqs7o_aSH4CivGEkvnb7BkK3JSxN0dgU1VIyBh31_4QC1nsRa0-_Gz-R8OTCWox0
nAg0omBbzvPckmII_fHh0Z0jwhaauBVglbSW02HzR-gEEExLzBsbi2FNixv3W8-6Bi0d7zKf2V31H_M6JLXI5dq8mBGTUVnKIA0hGqQDiW3Nwm9SNmaOyeTw
FYuC6Iy5wwOoPDpWI7b93NFzBE0Nkb0_2LpZQ3_LEzzbA5_KSochpFcwFk7pajPvFiRrXK2Lzwc-4a0hwwkzPW7Ar_LMVB9rFc3nfDth2QFBIieJ3SIZdWM8
zlN2ESPC9tByXOE3Cm
}


skinparam rectangle<<Lambda>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $Internet [64x64/16z] {
xPNdOlCm203HHXBt_e_x3KTfo53tJr-RAGwmBHpvNKvEJaAkgbfp-9PS1rT6-R9U3O_bhnKVW6cE8XAB6j33v_KumOe_5eCPFrtTdih50VEp7GnGUKHXV4wl
qEMP3lh9xkrbfnEI9EszfVVy1aLUaM0E3aRS-yRSh2W0Pe1j4sIekyiAz2WI5MpVFjlSdVRMITl6c6m9ifZRgE4FFuNzDTvSXEbytPwd11etOpTlElS9CkHr
802pF6QT07exa_W4tXSrW9cydWrcYqvt2Rn_aDJ0ggjkqFnrj07g4ZZ_82X-9YQKEpqfY4lWV5Vosa41lTT5GLo2Pr-YmLeSVkpwV_tYYs9fvqj-gshugTTq
cAptE_yeUnsEAfxbBxP-NGUGe7pLzzybo3_nu_lr-xZ5wd1ZLTOa1T2zts1SVONkOmZkH6xyC61SVB-X_EskGjtt7oQC0lb1BszMC2nk_9N0ODxhqTtiYrjo
lalmDD39eFXmApj_9V1wwe3UnpFrIhpuJI_K58xcOpretNYi9yMuiUPlicWIneoI0TZy3eKssVi7Lzz6SxOZB4JMq-9XNNw7avEJlm
}


skinparam rectangle<<Internet>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}

skinparam participant {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam sequence {
    ArrowThickness 2
    LifeLineBorderColor #232F3E
    LifeLineBackgroundColor #FF9900
    BoxBorderColor #232F3E
}


actor User as user

box CMS Auth
participant "<img data:image/png;base64,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{scale=1}>\nAuthorization Code Exchange Lambda" as authorization_code_exchange_lambda << Lambda Function >>
endbox

box OAuth2.0 IdP
participant "<img data:image/png;base64,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{scale=1}>\nOAuth2.0 API" as cognito_api << OAuth2.0 API >>
endbox

box Auth Setup
participant "<img data:image/png;base64,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{scale=1}>\nAuthorization Code Exchange Config" as authorization_code_config << Secrets Manager >>
endbox

user -> cognito_api++ #232F3E: GET /authorize endpoint with PKCE (optional)
user <- - cognito_api: redirect to /login endpoint with appropriate URL queries
user -> cognito_api: Login with valid user credentials
cognito_api - -> cognito_api: validate user credentials
return authorization code
|||
user -> authorization_code_exchange_lambda++ #D76511: authorization_code, redirect_uri, code_verifier (optional)
authorization_code_exchange_lambda -> authorization_code_config++ #D22029: Get authorization code exchange config
return
cognito_api <- authorization_code_exchange_lambda++ #232F3E: POST /token endpoint
cognito_api - -> cognito_api: Validate request
return user tokens
return user tokens
|||

@enduml

PlantUML version 1.2022.7(Mon Aug 22 12:01:30 CDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
